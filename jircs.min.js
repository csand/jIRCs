function jSortedList(a,b){this.array=[],this.keyFunction=a,this.compareFunction=b,this.keyDict={},this.nameDict={},this.insertCallbacks=[],this.removeCallbacks=[]}function jIRCs(a){this.buf="",this.queue=[],this.displays=[],this.channels={},this.chantypes=[],this.statuses={},this.statusOrder=[],this.statusSymbols={},this.chanModes={},this.userModes=[],this.scrollbackSize=500,this.reconnect_delay=0,this.nickname="",this.password="",this.registered=!1,this.connected=!1,this.account=!1,this.conn_generator=a,this.conn=a(),this.conn.parent=this,this.conn.onopen=function(a){this.parent.onconnect(a)},this.conn.onmessage=function(a){this.parent.onmessage(a)},this.conn.onclose=function(a){this.parent.ondisconnect(a)}}function jUser(a){this.nickname=a,this.statusList="",this.element=null}function jUserKeyFunc(a){return a.statusList.charAt(0)+a.nickname}function jUserCmpFunc(a,b){var c=(6-("~&@%+".indexOf(a.charAt(0))+1))%6,d=(6-("~&@%+".indexOf(b.charAt(0))+1))%6;return c&&(a=a.substr(1)),d&&(b=b.substr(1)),c>d?-1:d>c?1:a.toLowerCase()>b.toLowerCase()?1:a.toLowerCase()<b.toLowerCase()?-1:0}var allCookies={getItem:function(a){return a&&this.hasItem(a)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},setItem:function(a,b,c,d,e,f){if(a&&!/^(?:expires|max\-age|path|domain|secure)$/i.test(a)){var g="";if(c)switch(c.constructor){case Number:g=1/0===c?"; expires=Tue, 19 Jan 2038 03:14:07 GMT":"; max-age="+c;break;case String:g="; expires="+c;break;case Date:g="; expires="+c.toGMTString()}document.cookie=escape(a)+"="+escape(b)+g+(e?"; domain="+e:"")+(d?"; path="+d:"")+(f?"; secure":"")}},removeItem:function(a,b){a&&this.hasItem(a)&&(document.cookie=escape(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(b?"; path="+b:""))},hasItem:function(a){return new RegExp("(?:^|;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var a=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),b=0;b<a.length;b++)a[b]=unescape(a[b]);return a}};jSortedList.prototype.binarySearch=function(a){for(var d,b=0,c=this.array.length;c>b;){d=Math.floor((b+c)/2);var e=this.compareFunction(this.keyFunction(this.array[d]),a);if(0>e)b=d+1;else{if(!(e>0))return d;c=d}}return b},jSortedList.prototype.insert=function(a){var b=this.keyFunction(a);b=b.toLowerCase(),b in this.keyDict&&this.removeByKey(b);var c=this.binarySearch(b),d=c==this.array.length;this.array.splice(c,0,a),this.keyDict[b]=a,this.nameDict[a.nickname.toLowerCase()]=a;for(var e=0;e<this.insertCallbacks.length;e++)this.insertCallbacks[e](a,d?null:this.array[c+1])},jSortedList.prototype.removeByKey=function(a){if(a=a.toLowerCase(),a in this.keyDict){var b=this.keyDict[a],c=this.binarySearch(a);this.array.splice(c,1);var d=b.nickname;d=d.toLowerCase(),delete this.keyDict[a],delete this.nameDict[d];for(var e=0;e<this.removeCallbacks.length;e++)this.removeCallbacks[e](b)}},jSortedList.prototype.remove=function(a){var b=this.keyFunction(a);if(b=b.toLowerCase(),b in this.keyDict){var c=this.binarySearch(b);this.array.splice(c,1);var d=this.keyDict[b].nickname;d=d.toLowerCase(),delete this.keyDict[b],delete this.nameDict[d];for(var e=0;e<this.removeCallbacks.length;e++)this.removeCallbacks[e](a)}},jSortedList.prototype.erase=function(){var b=this.array;this.array=[],this.keyDict={},this.nameDict={};for(var c=0;c<b.length;c++)for(var d=0;d<this.removeCallbacks.length;d++)this.removeCallbacks[d](b[c])},jSortedList.prototype.lookupByName=function(a){return a=a.toLowerCase(),a in this.nameDict?this.nameDict[a]:null},jSortedList.prototype.registerInsertCallback=function(a){this.insertCallbacks.push(a)},jSortedList.prototype.unregisterInsertCallback=function(a){for(var b=0;b<this.insertCallbacks.length;b++)if(this.insertCallbacks[b]==a)return this.insertCallbacks.splice(b,1),void 0},jSortedList.prototype.registerRemoveCallback=function(a){this.removeCallbacks.push(a)},jSortedList.prototype.unregisterRemoveCallback=function(a){for(var b=0;b<this.removeCallbacks.length;b++)if(this.removeCallbacks[b]==a)return this.removeCallbacks.splice(b,1),void 0},jIRCs.prototype.version="jIRCs 0.1",jIRCs.prototype.nick=function(a,b){for(a=a.replace(" ","_");!this.nick_regex.test(a)&&a;)a=a.slice(0,-1);a||(a="Guest"+Math.floor(9e6*Math.random()+1e6)),this.nickname=a,this.password=b,allCookies.setItem("jirc-nickname",a),this.send("CAP",["LS"]),b&&this.send("PASS",[b]),this.send("USER",[a,a,a,":"+a]),this.send("NICK",[a])},window.console||(window.console={log:function(){}}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>1&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&1/0!=d&&d!=-1/0&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}),jIRCs.prototype.onconnect=function(){this.setConnected("Connected"),this.forEach(this.queue,this.send,this),this.queue=[]},jIRCs.prototype.ondisconnect=function(){this.forEach(this.channels,function(a,b){"Status"!=b&&this.destroyChan(b)},this),this.setConnected("Disconnected"),this.reconnect_delay=15,this.reconnect()},jIRCs.prototype.reconnect=function(){this.reconnect_delay>0?(this.setConnected("Reconnecting in "+this.reconnect_delay+"..."),this.reconnect_delay--,setTimeout(this.reconnect.bind(this),1e3)):(this.setConnected("Reconnecting..."),irc=new jIRCs(this.conn_generator),irc.nick(this.nickname,this.password),this.forEach(this.displays,function(a){a.container.innerHTML="",irc.display(a.container)},this))},jIRCs.prototype.onmessage=function(a){this.buf+=a.data;var b=this.buf.split("\n");this.buf=b.pop(),this.forEach(b,this.parseMessage,this)},jIRCs.prototype.send=function(a,b){var c=a;"object"==typeof b&&(c+=" "+b.join(" ")),1==this.conn.readyState?this.conn.send(c+"\r\n"):this.queue.push(c)},jIRCs.prototype.say=function(a,b){b||(b=this.nickname),this.send("PRIVMSG",[b,":"+a]),this.irc_PRIVMSG(this.nickname,[b,a])},jIRCs.prototype.display=function(a){if(!a){var b=document.getElementsByTagName("script");a=b[b.length-1].parentNode}var c=document.createElement("div"),d=document.createElement("div"),e=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div"),h=document.createElement("div"),i=document.createElement("div"),j=document.createElement("div"),k=document.createElement("div"),l=document.createElement("img"),m=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div"),p=document.createElement("div"),q=document.createElement("form"),r=document.createElement("label"),s=document.createElement("input"),t=document.createElement("input"),u=document.createElement("div"),v=document.createElement("span"),w=document.createElement("span"),x=document.createElement("div"),y=document.createElement("a"),z=document.createElement("a"),A=document.createElement("a"),B=document.createElement("a"),C=document.createElement("a"),D=document.createElement("img"),E=document.createElement("div"),F=document.createElement("div"),G=document.createElement("div"),H=document.createElement("div"),I=document.createElement("div"),J=document.createElement("form"),K=document.createElement("div"),L=document.createElement("div"),M=document.createElement("div"),N=document.createElement("div"),O=document.createElement("label"),P=document.createElement("input"),Q=document.createElement("label"),R=document.createElement("input"),S=document.createElement("input"),T={container:a,header:c,content:d,footer:e,tabbar:f,topic:g,auction:h,chat:i,messages_wrapper:j,messages:k,butts:l,notification:m,userlist:n,fudgeFactor:4,inputbar:o,status:p,form:q,name:r,input:s,send:t,status_normal:u,status_connected:v,status_account:w,status_special:x,status_gethelp:y,status_hideulist:z,status_hideauction:A,status_buttmode:B,status_kappa:C,auction_image:D,auction_holder:E,auction_title:F,auction_bidder:G,auction_bid:H,auction_smack:I,auction_form:J,auction_form_header:K,auction_form_bid:L,auction_form_smack:M,auction_form_submit:N,auction_form_bid_label:O,auction_form_bid_input:P,auction_form_smack_label:Q,auction_form_smack_input:R,auction_form_submit_input:S,viewing:"",tabs:{},lines:{},history:[],options:{show_userlist:!0,show_auction:!0,butt_mode:!1,kappa:!1},auction_running:!1,note_timer:!1,userInsertCallback:null,userRemoveCallback:null};a.className="jircs_main",c.className="jircs_header",d.className="jircs_content",e.className="jircs_footer",f.className="jircs_tabbar",g.className="jircs_topic",h.className="jircs_auction",i.className="jircs_chat",j.className="jircs_messages_wrapper",k.className="jircs_messages",l.className="jircs_butts",m.className="jircs_notification",n.className="jircs_userlist",o.className="jircs_inputbar",p.className="jircs_status",q.className="jircs_form",r.className="jircs_name",s.className="jircs_input",t.className="jircs_send",u.className="jircs_status_normal",v.className="jircs_status_connected",w.className="jircs_status_account",x.className="jircs_status_special",y.className="jircs_status_gethelp",z.className="jircs_status_hideulist",A.className="jircs_status_hideauction",D.className="jircs_auction_image",E.className="jircs_auction_holder",F.className="jircs_auction_title",G.className="jircs_auction_bidder",H.className="jircs_auction_bid",I.className="jircs_auction_smack",J.className="jircs_auction_form",K.className="jircs_auction_form_header",L.className="jircs_auction_form_bid",M.className="jircs_auction_form_smack",N.className="jircs_auction_form_submit",O.className="jircs_auction_form_bid_label",P.className="jircs_auction_form_bid_input",Q.className="jircs_auction_form_smack_label",R.className="jircs_auction_form_smack_input",S.className="jircs_auction_form_submit_input",s.type="text",t.type="submit",t.value="Send",l.src="http://instant-grat.com/db6/grahambootyshake.gif",k.style.display=T.options.butt_mode?"none":"block",l.style.display=T.options.butt_mode?"block":"none",v.innerHTML=this.connected?"Connected":"Disconnected",w.appendChild(document.createTextNode(this.account?"Logged in as "+this.account:"Not Logged In")),y.href="#",z.href="#",A.href="#",B.href="#",C.href="#",y.innerHTML="Get Help",z.innerHTML=T.options.show_userlist?"Hide Users":"Show Users",A.innerHTML=T.options.show_auction?"Hide Auction Bar":"Show Auction Bar",B.innerHTML=T.options.butt_mode?"Unleash Chaos":"Achieve Serenity",C.innerHTML=T.options.kappa?"Kappa!":"Kappa?",J.style.display=this.account?"block":"none",K.innerHTML="Submit A Bid!",O.innerHTML="Bid Amount: ",P.type="text",Q.innerHTML="Smack Talk: ",R.type="text",S.type="submit",S.value="Bid",a.appendChild(c),a.appendChild(d),a.appendChild(e),c.appendChild(f),c.appendChild(g),c.appendChild(h),d.appendChild(i),d.appendChild(n),e.appendChild(o),e.appendChild(p),i.appendChild(j),i.appendChild(m),j.appendChild(k),j.appendChild(l),o.appendChild(q),q.appendChild(r),q.appendChild(s),q.appendChild(t),u.appendChild(v),u.appendChild(document.createTextNode(" | ")),u.appendChild(w),x.appendChild(y),x.appendChild(document.createTextNode(" | ")),x.appendChild(z),x.appendChild(document.createTextNode(" | ")),x.appendChild(A),x.appendChild(document.createTextNode(" | ")),x.appendChild(B),x.appendChild(document.createTextNode(" | ")),x.appendChild(C),p.appendChild(u),p.appendChild(x),E.appendChild(F),E.appendChild(G),E.appendChild(H),E.appendChild(I),h.appendChild(D),h.appendChild(E),h.appendChild(J),J.appendChild(K),J.appendChild(L),J.appendChild(M),J.appendChild(N),L.appendChild(O),L.appendChild(P),M.appendChild(Q),M.appendChild(R),N.appendChild(S),this.listen(a,"click",this.el_container_click,T),this.listen(a,"mousedown",this.el_container_mousedown,T),this.listen(a,"mouseup",this.el_container_mouseup,T),this.listen(h,"mouseup",this.el_auction_mouseup,T),this.listen(q,"submit",this.el_form_submit,T),this.listen(s,"keydown",this.el_input_keydown,T),this.listen(y,"click",this.el_gethelp_click,T),this.listen(z,"click",this.el_hideulist_click,T),this.listen(A,"click",this.el_hideauction_click,T),this.listen(B,"click",this.el_buttmode_click,T),this.listen(C,"click",this.el_kappa_click,T),this.listen(J,"submit",this.el_auction_form_submit,T),this.initChan("Status",T),this.activateChan("Status",T),this.displays.push(T)},jIRCs.prototype.initChan=function(a,b){var c=document.createElement("span");if(c.className="jircs_tab",c.appendChild(document.createTextNode(a)),this.listen(c,"click",this.el_tab_click,b),"Status"!=a){var d=document.createElement("span");d.appendChild(document.createTextNode("X")),this.listen(d,"click",this.el_closebtn_click,b),d.className="jircs_tab_closeBtn",c.appendChild(d)}b.tabbar.appendChild(c),b.tabs[a]=c,b.lines[a]=[]},jIRCs.prototype.destroyChan=function(a){"Status"!=a&&a in this.channels&&("#"==a.charAt(0)&&this.send("PART",[a]),this.forEach(this.displays,function(b){if(b.tabbar.removeChild(b.tabs[a]),delete b.tabs[a],a==b.viewing){for(var c=b.history.pop();c&&!b.tabs[c];)c=b.history.pop()||!1;c||(c="Status"),this.activateChan(c,b)}},this),delete this.channels[a])},jIRCs.prototype.activateChan=function(a,b){b.tabs[a]&&b.viewing!=a&&(this.forEach(this.displays,function(c){this.forEach(c.tabs,function(d,e){var f="jircs_tab";c!=b&&-1!=d.className.indexOf("jircs_tab_active")&&(f+=" jircs_tab_active"),e!=a&&(-1!=d.className.indexOf("jircs_tab_attention")&&(f+=" jircs_tab_attention"),-1!=d.className.indexOf("jircs_tab_hilight")&&(f+=" jircs_tab_hilight")),d.className=f},this)},this),b.tabs[a].className+=" jircs_tab_active",b.history.push(b.viewing),a in this.channels||(this.channels[a]={users:new jSortedList(jUserKeyFunc,jUserCmpFunc),modes:{}}),b.viewing&&this.channels[b.viewing]&&(this.channels[b.viewing].users.unregisterInsertCallback(b.userInsertCallback),this.channels[b.viewing].users.unregisterRemoveCallback(b.userRemoveCallback)),b.viewing=a,b.userInsertCallback=this.userListInsert.bind(this,b),b.userRemoveCallback=this.userListRemove.bind(this,b),this.channels[b.viewing].users.registerInsertCallback(b.userInsertCallback),this.channels[b.viewing].users.registerRemoveCallback(b.userRemoveCallback),b.messages.innerHTML="",this.forEach(b.lines[a],function(a){b.messages.appendChild(a.container)},this),this.render(b),b.messages.scrollTop=b.messages.scrollHeight-b.messages.clientHeight)},jIRCs.prototype.render=function(a){if(a.topic.innerHTML="",a.viewing in this.channels&&this.channels[a.viewing].topic){var b=document.createElement("p");if(b.appendChild(document.createTextNode(this.channels[a.viewing].topic.message)),b.className="jircs_topic_message",b.innerHTML=this.formatLine(b.innerHTML),a.topic.appendChild(b),this.channels[a.viewing].topic.creator){var c=document.createElement("p"),d="Set by "+this.channels[a.viewing].topic.creator;if(this.channels[a.viewing].topic.time){var e=this.channels[a.viewing].topic.time,f=""+e.getHours(),g=""+e.getMinutes(),h=""+e.getSeconds();d+=" on "+(e.getMonth()+1)+"/"+e.getDate()+"/"+e.getFullYear()+" "+(f.length>1?f:"0"+f)+":"+(g.length>1?g:"0"+g)+":"+(h.length>1?h:"0"+h)}c.appendChild(document.createTextNode(d)),c.className="jircs_topic_creator",a.topic.appendChild(c)}}this.renderUserList(a),a.chat.style.width=a.options.show_userlist?"85%":"100%",a.name.innerHTML="",a.name.appendChild(document.createTextNode(this.nickname+"\xa0")),a.input.style.width="0px",a.input.style.width=a.inputbar.clientWidth-a.form.offsetWidth-a.fudgeFactor+"px",a.content.style.paddingTop=a.header.offsetHeight+"px",a.content.style.paddingBottom=a.footer.offsetHeight+"px",a.messages_wrapper.style.paddingBottom=a.notification.offsetHeight+"px"},jIRCs.prototype.renderUserList=function(a){a.viewing in this.channels&&(a.userlist.innerHTML="",this.forEach(this.channels[a.viewing].users.array,function(b){var c=document.createElement("p");this.listen(c,"click",this.el_userentry_click,a);var d=jUserKeyFunc(b);c.appendChild(document.createTextNode(d)),c.className="jircs_userlist_user",a.userlist.appendChild(c),b.element=c},this))},jIRCs.prototype.userListInsert=function(a,b,c){var d=document.createElement("p");this.listen(d,"click",this.el_userentry_click,a);var e=jUserKeyFunc(b);d.appendChild(document.createTextNode(e)),d.className="jircs_userlist_user",c?a.userlist.insertBefore(d,c.element):a.userlist.appendChild(d),b.element=d},jIRCs.prototype.userListRemove=function(a,b){a.userlist.removeChild(b.element)},jIRCs.prototype.renderLine=function(a,b,c,d){a||(a="Status");var e=new Date,f=""+e.getHours(),g=""+e.getMinutes(),h=""+e.getSeconds(),i=document.createElement("div"),j=document.createElement("div"),k=document.createElement("div");i.className="jircs_chatDate",j.className="jircs_chatUser",k.className="jircs_chatText",""==b&&(k.className+=" jircs_action"),b==a&&(b="",k.className+=" jircs_event"),i.appendChild(document.createTextNode("["+(f.length>1?f:"0"+f)+":"+(g.length>1?g:"0"+g)+":"+(h.length>1?h:"0"+h)+"]")),j.appendChild(document.createTextNode("\xa0"+b+"\xa0")),k.appendChild(document.createTextNode(c));var l=new RegExp("\\b"+this.cleanRegex(this.nickname)+"\\b","ig");k.innerHTML=this.formatLine(k.innerHTML);var m=[];this.forEach(this.displays,function(a){m.push(a.viewing)},this);var n=this.displays;d&&(n=[d]),this.forEach(n,function(b){b.tabs[a]||this.initChan(a,b);var d=b.messages.scrollHeight<b.messages.clientHeight||b.messages.scrollHeight<=b.messages.scrollTop+b.messages.clientHeight+125,e=document.createElement("div"),f=i.cloneNode(!0),g=j.cloneNode(!0),h=k.cloneNode(!0);for(e.className="jircs_chatRow",l.test(c)&&(e.className+=" jircs_hilight"),e.appendChild(f),e.appendChild(g),e.appendChild(h),b.options.kappa&&(h.innerHTML=this.kappafy(h.innerHTML)),b.lines[a].push({container:e,time:f,name:g,message:h});b.lines[a].length>this.scrollbackSize;)b.lines[a].shift();if(b.viewing==a)for(b.messages.appendChild(e);b.messages.children.length>this.scrollbackSize;)b.messages.removeChild(b.messages.firstChild);d&&(b.messages.scrollTop=b.messages.scrollHeight),-1==m.indexOf(a)&&(-1==b.tabs[a].className.indexOf("jircs_tab_attention")&&(b.tabs[a].className+=" jircs_tab_attention"),-1==b.tabs[a].className.indexOf("jircs_tab_hilight")&&l.test(c)&&(b.tabs[a].className+=" jircs_tab_hilight"))},this)},jIRCs.prototype.formatLine=function(a){a=a.replace(this.url_regex,this.linkMunger),a=a.replace(/([>\s])(#[^\s\a,:]+?)([<\s])/gi,'$1<a href="$2" class="jircs_channel_link">$2</a>$3');var b=0,c="",d=!1,e=!1,f=!1,g={foreground:!1,background:!1,tmp:"",state:0,set:!1};return this.forEach(a,function(a){var h=!1,i=!1;if(""==a)d?h=!0:(c+='<span class="jircs_bold">',b+=1),d=!d;else if(""==a){g.foreground||(g.foreground="1"),g.background||(g.background="0");var j=g.foreground;g.foreground=g.background,g.background=j,g.set?(c+="<span>",b+=1):(c+="<span><span>",b+=2),g.set=h=!0}else""==a?(e?h=!0:(c+='<span class="jircs_italic">',b+=1),e=!e):""==a?(f?h=!0:(c+='<span class="jircs_underline">',b+=1),f=!f):""==a?g.state=1:1==g.state?isNaN(parseInt(a))?(g.state=0,g.foreground=g.background=g.set=!1,i=h=!0):(g.tmp+=a,g.state=2):2==g.state?isNaN(parseInt(a))?(g.foreground=g.tmp,g.tmp="",","==a?g.state=3:(g.state=0,i=!0,b+=1,g.set?(c+="<span>",h=!0):(g.set=!0,c+='<span class="jircs_color_foreground_'+parseInt(g.foreground)+'">'))):g.tmp+=a:3==g.state?isNaN(parseInt(a))?(g.tmp&&(g.background=g.tmp),g.tmp="",g.state=0,i=!0,b+=1,g.set?(c+="<span>",h=!0):(g.set=!0,c+='<span class="jircs_color_foreground_'+parseInt(g.foreground)+" jircs_color_background_"+parseInt(g.background)+'">')):g.tmp+=a:""==a?(c+=this.repeat("</span>",b),b=0,d=e=f=g.foreground=g.background=g.set=!1):c+=a;h&&(c+=this.repeat("</span>",b),b-=1,d&&(c+='<span class="jircs_bold">'),e&&(c+='<span class="jircs_italic">'),f&&(c+='<span class="jircs_underline">'),g.foreground&&(c+='<span class="jircs_color_foreground_'+parseInt(g.foreground),g.background&&(c+=" jircs_color_background_"+parseInt(g.background)),c+='">')),i&&(c+=a)},this),c+=this.repeat("</span>",b)},jIRCs.prototype.kappafy=function(a){var b={Kappa:'<img src="http://static-cdn.jtvnw.net/jtv_user_pictures/emoticon-2867-src-f02f9d40f66f0840-28x28.png" alt="Kappa">',KappaHD:'<img src="http://static-cdn.jtvnw.net/jtv_user_pictures/emoticon-2867-src-f02f9d40f66f0840-28x28.png" alt="KappaHD">',FrankerZ:'<img src="http://static-cdn.jtvnw.net/jtv_user_pictures/chansub-global-emoticon-3b96527b46b1c941-40x30.png" alt="FrankerZ">',lrrAWW:'<img src="http://static-cdn.jtvnw.net/jtv_user_pictures/emoticon-2848-src-c214ffc58226eeb7-28x28.png" alt="lrrAWW">',lrrCREEPY:'<img src="http://static-cdn.jtvnw.net/jtv_user_pictures/emoticon-2847-src-22ff9f95382517b3-28x28.png" alt="lrrCREEPY">',lrrFRUMP:'<img src="http://static-cdn.jtvnw.net/jtv_user_pictures/emoticon-2468-src-9603d252a6f452f3-28x28.png" alt="lrrFRUMP">',lrrSCOOP:'<img src="http://static-cdn.jtvnw.net/jtv_user_pictures/emoticon-2535-src-10c8688fd28296a1-28x28.png" alt="lrrSCOOP">'};for(var c in b)b.hasOwnProperty(c)&&(a=a.replace(new RegExp("\\b"+c+"\\b","g"),b[c]));return a},jIRCs.prototype.renderNotification=function(a,b){b.note_timer&&clearTimeout(b.note_timer),b.notification.innerHTML="",b.notification.appendChild(document.createTextNode(a)),this.render(b),b.note_timer=setTimeout(this.clearNotifications.bind(this,b),5e3)},jIRCs.prototype.clearNotifications=function(a){a.notification.innerHTML="",this.render(a),a.note_timer=!1},jIRCs.prototype.setConnected=function(a){this.connected="Disconnected"==a,this.forEach(this.displays,function(b){b.status_connected.innerHTML=a,this.render(b)},this)},jIRCs.prototype.setAccount=function(a){this.account=a,this.forEach(this.displays,function(b){b.status_account.innerHTML="",b.status_account.appendChild(document.createTextNode(a?"Logged in as "+a:"Not Logged In")),b.auction_form.style.display=a?"block":"none",this.render(b)},this)},jIRCs.prototype.auctionStart=function(a,b){this.forEach(this.displays,function(c){c.auction_running=!0,c.options.show_auction&&(c.auction.style.display="block"),c.auction_image.src="http://desertbus.org/images/prizes_irc/"+a+".jpg",c.auction_title.innerHTML="",c.auction_title.appendChild(document.createTextNode(b)),this.render(c)},this)},jIRCs.prototype.auctionBid=function(a,b,c){this.forEach(this.displays,function(d){d.auction_bid.innerHTML="",d.auction_bidder.innerHTML="",d.auction_smack.innerHTML="",d.auction_bid.appendChild(document.createTextNode(a)),d.auction_bidder.appendChild(document.createTextNode(b)),d.auction_smack.appendChild(document.createTextNode(c)),this.render(d)},this)},jIRCs.prototype.auctionStop=function(){this.forEach(this.displays,function(a){a.auction_running=!1,a.auction.style.display="none",this.render(a)},this)},jIRCs.prototype.el_container_click=function(a,b){b.target&&"jircs_channel_link"==b.target.className&&(this.send("JOIN",[b.target.innerHTML]),this.cancelEvent(b))},jIRCs.prototype.el_container_mousedown=function(a,b){a.mouse={x:b.screenX,y:b.screenY}},jIRCs.prototype.el_container_mouseup=function(a,b){if(!("mouse"in a&&"x"in a.mouse&&"y"in a.mouse))return a.input.focus(),void 0;var c=a.mouse.x-b.screenX,d=a.mouse.y-b.screenY;0>c&&(c*=-1),0>d&&(d*=-1),5>c&&5>d&&0==b.button&&a.input.focus()},jIRCs.prototype.el_auction_mouseup=function(a,b){this.cancelEvent(b)},jIRCs.prototype.el_form_submit=function(a,b){this.cancelEvent(b),a.input.value&&(this.handleLine(a.input.value,a),a.input.value="")},jIRCs.prototype.el_input_keydown=function(a,b){var c=b.keyCode||b.which;if(9==c){var d=0;if(b.target.createTextRange){var e=document.selection.createRange().duplicate();e.moveEnd("character",b.target.value.length),""==e.text&&(d=b.target.value.length),d=b.target.value.lastIndexOf(e.text)}else d=b.target.selectionStart;var f=b.target.value.lastIndexOf(" ",d)+1,g=b.target.value.indexOf(" ",d);-1==g&&(g=b.target.value.length);var h=b.target.value.substring(f,g),i=[];this.forEach(this.channels[a.viewing].users.array,function(a){var b=a.nickname;b.substring(0,h.length).toLowerCase()==h.toLowerCase()&&i.push(b)},this),1==i.length?h=i[0]:0==i.length?this.renderNotification("No Possible Nicknames",a):this.renderNotification("Possible Nicknames: "+i.join(" "),a),b.target.value=b.target.value.substring(0,f)+h+b.target.value.substr(g),this.cancelEvent(b)}},jIRCs.prototype.el_tab_click=function(a,b){this.activateChan(b.target.firstChild.nodeValue,a)},jIRCs.prototype.el_closebtn_click=function(a,b){this.destroyChan(b.target.parentNode.firstChild.nodeValue)},jIRCs.prototype.el_hideulist_click=function(a,b){this.cancelEvent(b),a.options.show_userlist=!a.options.show_userlist,a.userlist.style.display=a.options.show_userlist?"inline-block":"none",a.status_hideulist.innerHTML=a.options.show_userlist?"Hide Users":"Show Users",this.render(a)},jIRCs.prototype.el_gethelp_click=function(a,b){this.cancelEvent(b),this.send("JOIN",["#help"])},jIRCs.prototype.el_hideauction_click=function(a,b){this.cancelEvent(b),a.options.show_auction=!a.options.show_auction,a.auction.style.display=a.options.show_auction&&a.auction_running?"block":"none",a.status_hideauction.innerHTML=a.options.show_auction?"Hide Auction Bar":"Show Auction Bar",this.render(a)},jIRCs.prototype.el_buttmode_click=function(a,b){this.cancelEvent(b),a.options.butt_mode=!a.options.butt_mode,a.status_buttmode.innerHTML=a.options.butt_mode?"Unleash Chaos":"Achieve Serenity",a.messages.style.display=a.options.butt_mode?"none":"block",a.butts.style.display=a.options.butt_mode?"block":"none",this.render(a)},jIRCs.prototype.el_kappa_click=function(a,b){this.cancelEvent(b),a.options.kappa=!a.options.kappa,a.status_kappa.innerHTML=a.options.kappa?"Kappa!":"Kappa?",this.render(a)},jIRCs.prototype.el_auction_form_submit=function(a,b){if(this.cancelEvent(b),a.auction_form_bid_input.value){var c=[a.auction_form_bid_input.value.split(" ")[0]];c=c.concat(a.auction_form_smack_input.value.split(" ")),this.command_BID(c,a),a.auction_form_bid_input.value="",a.auction_form_smack_input.value=""}},jIRCs.prototype.el_userentry_click=function(a,b){var c=b.target.firstChild.nodeValue.toLowerCase();c.charAt(0)in this.statusSymbols&&(c=c.substr(1)),c in this.channels||(this.channels[c]={users:new jSortedList(jUserKeyFunc,jUserCmpFunc),modes:{}}),this.renderLine(c,c,"You have begun messaging "+c),this.activateChan(c,a)},jIRCs.prototype.ctcp_VERSION=function(a){var c=":VERSION "+this.version+"";this.send("NOTICE",[a,c])},jIRCs.prototype.ctcp_TIME=function(a){var c=":TIME "+(new Date).toString()+"";this.send("NOTICE",[a,c])},jIRCs.prototype.ctcp_PING=function(a,b){var c=":PING "+b[0]+"";this.send("NOTICE",[a,c])},jIRCs.prototype.irc_PING=function(a,b){this.send("PONG",b)},jIRCs.prototype.irc_NICK=function(a,b){var c=this.getNick(a),d=b.pop();c==this.nickname&&(this.nickname=d,allCookies.setItem("jirc-nickname",this.nickname)),this.forEach(this.channels,function(a,b){if(a.users){var e=a.users.lookupByName(c);e&&(this.renderLine(b,b,c+" is now known as "+d),a.users.remove(e),e.nickname=d,a.users.insert(e))}},this),this.forEach(this.displays,function(a){this.render(a)},this)},jIRCs.prototype.irc_JOIN=function(a,b){var c=b.pop().toLowerCase();c in this.channels||(this.channels[c]={users:new jSortedList(jUserKeyFunc,jUserCmpFunc),modes:{}}),a!=this.nickname||this.renderLine(c,c,"You have joined "+c);var d=new jUser(a);this.channels[c].users.insert(d),this.channels[c].modes||(this.channels[c].modes={},this.send("MODE",[c])),this.forEach(this.displays,function(b){"#"==c.charAt(0)&&a==this.nickname&&this.activateChan(c,b)},this)},jIRCs.prototype.irc_PART=function(a,b){var c=b.shift().toLowerCase();b.pop(),this.getNick(a)==this.nickname?this.destroyChan(c):this.channels[c].users.removeByKey(a)},jIRCs.prototype.irc_QUIT=function(a,b){b.pop(),this.forEach(this.channels,function(b,c){if("Status"!=c&&b.users){var d=b.users.lookupByName(a);d&&b.users.remove(d)}},this)},jIRCs.prototype.irc_PRIVMSG=function(a,b){var c=b.shift().toLowerCase(),d=b.pop();if(c==this.nickname.toLowerCase()&&(c=a.toLowerCase()),c.charAt(0)in this.statusSymbols&&(a+=":"+c,c=c.substr(1)),""==d.charAt(0))if(d=d.split("")[1],"ACTION"==d.substr(0,6).toUpperCase())d=a+d.substr(6),a="",this.renderLine(c,a,d);else{b=d.split(" ");var e="ctcp_"+b.shift().toUpperCase();e in this&&this[e](c,b)}else this.renderLine(c,"<"+a+">",d);if("BidServ"==a){var f=d.replace("","").replace("","").replace("4","").replace("12").replace("","").replace("","").replace("","").replace("",""),g=f.split(" ");if("Starting Auction"==g.slice(0,2).join(" ")){var h=g[4].slice(1,-1),i=g.slice(5,-4).join(" ").slice(1,-2);this.auctionStart(h,i)}else if("Beginning bidding at"==g.slice(0,3).join(" ")){var j=g[3];this.auctionBid(j,"Nobody","")}else if(~f.indexOf("has the high bid of")){for(var k=0;k<g.length-5&&("has"!=g[k+1]||"the"!=g[k+2]||"high"!=g[k+3]||"bid"!=g[k+4]||"of"!=g[k+5]);)k++;var l=g[k],m=g[k+6],n=g.slice(k+7).join(" ");this.auctionBid(m,l,n)}else if(~f.indexOf("New highest bid is by")){g=f.substr(f.indexOf("New highest bid is by")).split(" ");var l=g[5],m=g[7];this.auctionBid(m,l,"")}else"Auction for"==g.slice(0,2).join(" ")&&~f.indexOf("canceled")?this.auctionStop():"Sold!"==g[0]&&this.auctionStop()}},jIRCs.prototype.irc_NOTICE=function(a,b){var c="\u2013 "+this.getNick(a),d=b.pop(),e=b.shift().toLowerCase();-1!==this.chantypes.indexOf(e.charAt(0))||-1!==this.chantypes.indexOf(e.charAt(1))?(c+=":"+e+" \u2013",e.charAt(0)in this.statusSymbols&&(e=e.substr(1)),this.renderLine(e,c,d)):(c+=" \u2013",this.forEach(this.displays,function(a){this.renderLine(a.viewing,c,d,a)},this)),"NickServ"==this.getNick(a)&&("You are now identified. Welcome, "==d.slice(0,33)?this.setAccount(d.slice(33,-1)):"You are now logged out"==d.slice(0,22)&&this.setAccount(!1))},jIRCs.prototype.irc_KICK=function(a,b){var c=b.shift().toLowerCase(),d=b.shift(),e=b.pop();this.renderLine(c,"<"+a+">","4"+d+" has been kicked from "+c+" (Reason: "+e+")")},jIRCs.prototype.irc_MODE=function(a,b){var c=b.shift().toLowerCase(),d=b.shift().split("");if(c==this.nickname.toLowerCase()){var e=!0;this.forEach(d,function(a){switch(a){case"+":e=!0;break;case"-":e=!1;break;default:if(e)this.userModes.push(a);else{var b=this.userModes.indexOf(a);-1!=b&&this.userModes.splice(b,1)}}},this)}else this.parseModes(c,d,b)},jIRCs.prototype.irc_CAP=function(a,b){if("LS"==b[1]){var c=b[2].split(" ");-1!=c.indexOf("multi-prefix")?this.send("CAP",["REQ",":multi-prefix"]):this.registered||this.send("CAP",["END"])}else"ACK"!=b[1]||this.registered||this.send("CAP",["END"])},jIRCs.prototype.irc_001=function(){this.registered=!0},jIRCs.prototype.irc_005=function(a,b){b.shift(),b.pop(),this.forEach(b,function(a){if("PREFIX="==a.substr(0,7).toUpperCase()){var b=a.substr(8).split(")"),c=b[1].split(""),d=b[0].split("");this.statuses=this.zip(c.concat(d),d.concat(c)),this.statusOrder=d,this.statusSymbols=this.zip(c,c),this.statuses[""]="",this.statusOrder.push("")}if("CHANMODES="==a.substr(0,10)){var b=a.substr(10),e=b.split(",");this.forEach(e,function(a,b){this.forEach(a,function(a){this.chanModes[a]=b},this)},this)}"CHANTYPES="==a.substr(0,10)&&(this.chantypes=a.substr(10).split(""))},this)},jIRCs.prototype.irc_324=function(a,b){b.shift();var c=b.shift().toLowerCase(),d=b.shift().split("");this.channels[c].modes={},this.parseModes(c,d,b)},jIRCs.prototype.irc_353=function(a,b){var c=b[2].toLowerCase();this.channels[c].moreNames||(this.channels[c].moreNames=!0,this.channels[c].users.erase());
var d=b[3].split(" ");this.forEach(d,function(a){for(var b="";a.charAt(0)in this.statusSymbols;)b+=a.charAt(0),a=a.substr(1);var d=new jUser(a);d.statusList=b,this.channels[c].users.insert(d)},this)},jIRCs.prototype.irc_366=function(a,b){var c=b[1].toLowerCase();this.channels[c].moreNames=!1,this.forEach(this.displays,function(a){a.viewing==c&&this.render(a)},this)},jIRCs.prototype.irc_332=function(a,b){var c=b[1].toLowerCase();this.channels[c].topic||(this.channels[c].topic={}),this.channels[c].topic.message=b[2],this.forEach(this.displays,function(a){a.viewing==c&&this.render(a)},this)},jIRCs.prototype.irc_333=function(a,b){var c=b[1].toLowerCase();this.channels[c].topic||(this.channels[c].topic={}),this.channels[c].topic.creator=b[2],this.channels[c].topic.time=new Date(1e3*b[3]),this.forEach(this.displays,function(a){a.viewing==c&&this.render(a)},this)},jIRCs.prototype.irc_TOPIC=function(a,b){var c=b[0].toLowerCase();this.channels[c].topic||(this.channels[c].topic={}),this.channels[c].topic.creator=a,this.channels[c].topic.time=new Date,this.channels[c].topic.message=b[1],this.forEach(this.displays,function(a){a.viewing==c&&this.render(a)},this)},jIRCs.prototype.irc_433=function(){this.nickname+="_",allCookies.setItem("jirc-nickname",this.nickname),this.send("NICK",[this.nickname])},jIRCs.prototype.irc_unknown=function(a,b){b[0]==this.nickname&&b.shift(),this.renderLine("Status",a,b.join(" "))},jIRCs.prototype.command_NICK=function(a,b){a[0]=a[0].replace(" ","_"),this.nick_regex.test(a[0])?this.send("NICK",a):this.renderNotification(a[0]+" is an invalid nickname. Please try another.",b)},jIRCs.prototype.command_ME=function(a,b){var c="ACTION "+a.join(" ")+"";this.say(c,b.viewing)},jIRCs.prototype.command_CTCP=function(a){var b=a.shift(),c=""+a.join(" ")+"";this.say(c,b)},jIRCs.prototype.command_MSG=function(a){var b=a.shift();this.say(a.join(" "),b)},jIRCs.prototype.command_PART=function(a){var b=a.shift();b||(b=this.displays[0].viewing),b=b.toLowerCase(),this.destroyChan(b)},jIRCs.prototype.command_QUIT=function(a){var b=":"+a.join(" ");this.send("QUIT",[b])},jIRCs.prototype.command_BID=function(a){var c=a[0],d=":"+a.slice(1).join(" ");this.send("BID",[c,d])},jIRCs.prototype.tlds=["AC","AD","AE","AERO","AF","AG","AI","AL","AM","AN","AO","AQ","AR","ARPA","AS","ASIA","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BIZ","BJ","BM","BN","BO","BR","BS","BT","BV","BW","BY","BZ","CA","CAT","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","COM","COOP","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EDU","EE","EG","ER","ES","ET","EU","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GOV","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","INFO","INT","IO","IQ","IR","IS","IT","JE","JM","JO","JOBS","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MG","MH","MIL","MK","ML","MM","MN","MO","MOBI","MP","MQ","MR","MS","MT","MU","MUSEUM","MV","MW","MX","MY","MZ","NA","NAME","NC","NE","NET","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","ORG","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PRO","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","ST","SU","SV","SX","SY","SZ","TC","TD","TEL","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TP","TR","TRAVEL","TT","TV","TW","TZ","UA","UG","UK","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","XN--0ZWM56D","XN--11B5BS3A9AJ6G","XN--3E0B707E","XN--45BRJ9C","XN--80AKHBYKNJ4F","XN--80AO21A","XN--90A3AC","XN--9T4B11YI5A","XN--CLCHC0EA0B2G2A9GCD","XN--DEBA0AD","XN--FIQS8S","XN--FIQZ9S","XN--FPCRJ9C3D","XN--FZC2C9E2C","XN--G6W251D","XN--GECRJ9C","XN--H2BRJ9C","XN--HGBK6AJ7F53BBA","XN--HLCJ6AYA9ESC7A","XN--J6W193G","XN--JXALPDLP","XN--KGBECHTV","XN--KPRW13D","XN--KPRY57D","XN--LGBBAT1AD8J","XN--MGBAAM7A8H","XN--MGBAYH7GPA","XN--MGBBH1A71E","XN--MGBC0A9AZCG","XN--MGBERP4A5D4AR","XN--O3CW4H","XN--OGBPF8FL","XN--P1AI","XN--PGBS0DH","XN--S9BRJ9C","XN--WGBH1C","XN--WGBL6A","XN--XKC2AL3HYE2A","XN--XKC2DL3A5EE0H","XN--YFRO4I67O","XN--YGBI2AMMX","XN--ZCKZAH","XXX","YE","YT","ZA","ZM","ZW"].sort(function(a,b){return a.length>b.length?-1:a.length<b.length?1:0}),jIRCs.prototype.url_regex=new RegExp("(\\b)(?:(https?|ftp|svn|git)://)?((?:[a-z0-9](?:[a-z0-9\\-]*[a-z0-9])?\\.)+(?:"+jIRCs.prototype.tlds.join("|")+"))(/[^\\s]*[^\\s`!()\\[\\]{};:'\".,<>?\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd])?(\\b)","ig"),jIRCs.prototype.nick_regex=/^[a-zA-Z\[\]\\`_^{}\|][a-zA-Z0-9-\[\]\\`_^{}\|]{0,31}$/,jIRCs.prototype.regex_regex=/[\[\]{}\\\|]/g,jIRCs.prototype.linkMunger=function(a,b,c,d,e,f){var i=a;return c||(i="http://"+i),b+'<a href="'+i+'" target="_blank">'+a+"</a>"+f},jIRCs.prototype.handleLine=function(a,b){if("/"==a.charAt(0)){var c=a.substr(1).split(" "),d=c.shift().toUpperCase(),e="command_"+d;e in this?this[e](c,b):this.send(d,c)}else this.say(a,b.viewing)},jIRCs.prototype.parseMessage=function(a){var b="",c="",d="",e=[],f="";if(a=a.trim(),""!=a){if(":"==a.charAt(0)&&(e=a.split(" "),c=e.shift().substr(1).split("!",1)[0],a=e.join(" ")),-1!=a.indexOf(" :")){var g=a.split(" :");e=g.shift().split(" "),f=g.join(" :"),e.push(f)}else e=a.split(" ");d=e.shift(),b="irc_"+d.toUpperCase(),b in this?this[b](c,e):this.irc_unknown(c,e)}},jIRCs.prototype.parseModes=function(a,b,c){var d=!0;this.forEach(b,function(b){switch(b){case"+":d=!0;break;case"-":d=!1;break;default:if(-1!=this.statusOrder.indexOf(b)){var e=c.shift(),f=this.channels[a].users.lookupByName(e);if(this.channels[a].users.remove(f),d){var g=f.statusList+this.statuses[b],h="";this.forEach(this.statusOrder,function(a){-1!=g.indexOf(this.statuses[a])&&(h+=this.statuses[a])},this),f.statusList=h}else{var i=this.statuses[b],j=f.statusList.indexOf(i);if(-1!=j){var k=f.statusList.split("");k.splice(j,1),f.statusList=k.join("")}}this.channels[a].users.insert(f)}else{var l=this.chanModes[b];if(1==l){var m=c.shift();d?this.channels[a].modes[b]=m:delete this.channels[a].modes[b]}else 2==l?d?this.channels[a].modes[b]=c.shift():delete this.channels[a].modes[b]:3==l&&(d?this.channels[a].modes[b]="":delete this.channels[a].modes[b])}}},this)},jIRCs.prototype.getNick=function(a){return a.split("!")[0]},jIRCs.prototype.zip=function(a,b){for(var e,f,c={},d=0;(e=a[d])&&(f=b[d]);d++)c[e]=f;return c},jIRCs.prototype.forEach=function(a,b,c){if(a)if(a.forEach)a.forEach(b,c);else if(a.length)for(var d=0,e=a.length;e>d;++d)b.call(c||a,a[d],d,a);else for(var f in a)a.hasOwnProperty(f)&&b.call(c||a,a[f],f,a);else;},jIRCs.prototype.repeat=function(a,b){if(1>b)return"";for(var c="";b>0;)1&b&&(c+=a),b>>=1,a+=a;return c},jIRCs.prototype.measureText=function(a,b){var c=document.createElement("div");return b&&(c.className=b),c.style.position="absolute",c.style.visibility="hidden",c.style.height="auto",c.style.width="auto",c.appendChild(document.createTextNode(a)),document.body.appendChild(c),r={height:c.offsetHeight+2,width:c.offsetWidth+2},document.body.removeChild(c),r},jIRCs.prototype.listen=function(a,b,c,d){var e=this.fixEvent.bind(this,c.bind(this,d));a.addEventListener?a.addEventListener(b,e,!1):a.attachEvent?a.attachEvent("on"+b,e):a["on"+b]=e},jIRCs.prototype.fixEvent=function(a,b){b=b||window.event,b.target||(b.target=b.srcElement),a(b)},jIRCs.prototype.cancelEvent=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,a.preventDefault?a.preventDefault():a.returnValue=!1},jIRCs.prototype.calculateScrollWidth=function(){var a=document.createElement("div");a.style.width="100px",a.style.height="100px",a.style.overflow="scroll",document.body.appendChild(a);var b=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),b},jIRCs.prototype.cleanRegex=function(a){return a.replace(this.regex_regex,"\\$&")};